<!-- Container for the analysis panel -->
<div class="app-analysis-panel-container">

  <!-- Dynamically switch between analysis panels based on selected object type -->
  @switch (getSelectedObjectType()){

    <!-- Show joint-specific analysis panel -->
    @case('JointInteractor'){
      <app-joint-analysis-panel></app-joint-analysis-panel>
    }

    <!-- Show link-specific analysis panel -->
    @case('LinkInteractor'){
      <app-link-analysis-panel></app-link-analysis-panel>
    }

    <!-- Show compound link-specific analysis panel -->
    @case('CompoundLinkInteractor'){
      <app-compound-link-analysis-panel></app-compound-link-analysis-panel>
    }

    <!-- Placeholder for force selection (not yet implemented) -->
    @case('ForceInteractor'){
      <p>Force Selected</p>
    }

    <!-- Default case shown when no valid object is selected -->
    @default(){
      <div id="default-view"><div class="scroll-container">

        <!-- Collapsible section explaining why analysis is not possible -->
        <panel-section-collapsible
          [warning]='true'
          [expanded]='false'
          id='placeholderContainer'
        >
          <title-block class="title" alwaysShown icon='expand_more'
                       description='This linkage is not valid and cannot be analyzed. Make sure all requirements are met:'>
            <div style="margin-right: 9em;">Analysis</div>
          </title-block>

          <!-- List of validation requirements for a mechanism -->
          <mat-list class='example-list-wrapping'>
            <mat-list-item lines='3'>
              <span matListItemTitle>Must have one input</span>
              <span>Mechanisms should have 1 and only one joint defined as a input.</span>
            </mat-list-item>
            <mat-list-item lines='2'>
              <span matListItemTitle>At least one joint is grounded</span>
              <span>An input joint doubles as a ground joint.</span>
            </mat-list-item>
            <mat-list-item lines='3'>
              <span matListItemTitle>No orphaned joints</span>
              <span>
          Joints that are not a part of any link are orphaned. Remove or connect
          orphaned joints.
        </span>
            </mat-list-item>
            <mat-list-item lines='3'>
              <span matListItemTitle>No free floating links</span>
              <span>
          Links that are not part of a grounded joint are free floating. Remove or
          connect free floating links.
        </span>
            </mat-list-item>
            <mat-list-item lines='3'>
              <span matListItemTitle>Degress of freedom must be one</span>
              <span>DOF = 3*(#_of_Links-1) - 2*(#_of_joints). Count both revolute joints and slider joints.</span>
            </mat-list-item>
            <mat-list-item lines='3'>
              <span matListItemTitle>Welded links count as one link</span>
              <span>
          If two or more links are welded together at a joint they should only be counted as 1 link.
        </span>
            </mat-list-item>
          </mat-list>
        </panel-section-collapsible>
      </div></div>
    }
  }

  <!-- Import/export section at bottom of panel -->
  <div id="import-export">
    <p>Use this panel to import and export kinematic data!</p>
    <import-data></import-data>
    <export-data></export-data>
  </div>
</div>
